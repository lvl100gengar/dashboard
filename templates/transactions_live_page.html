{% extends "base.html" %}

{% block title %}{{ super() }} :: Transfer Feed{% endblock %}

{% block content %}
<div class="transactions-section">
    <div class="section-header">
        <h2><i class="fas fa-history"></i> Transfer Feed</h2>
        <div class="control-panel">
            <div class="control-group">
                <label for="filter_username">Username:</label>
                <select id="filter_username" name="filter_username">
                    <option value="">All Usernames</option>
                    <!-- Usernames loaded by JS -->
                </select>
            </div>
            <div class="control-group">
                <label for="filter_status">Status:</label>
                <select id="filter_status" name="filter_status">
                    <option value="">All Statuses</option>
                    <option value="BAD_REQUEST">BAD_REQUEST</option>
                    <option value="SUBMITTED">SUBMITTED</option>
                    <option value="COMPLETE">COMPLETE</option>
                    <option value="TIMEOUT">TIMEOUT</option> <!-- Assuming TIMEOUT is a possible status -->
                    <option value="EP_UNAVAILABLE">EP_UNAVAILABLE</option>
                    <option value="CD_UNAVAILABLE">CD_UNAVAILABLE</option>
                </select>
            </div>
            <div class="control-group">
                <label for="num_items">Items:</label>
                <select name="num_items" id="num_items">
                    <option value="25">25</option>
                    <option value="50" selected>50</option>
                    <option value="100">100</option>
                    <option value="200">200</option>
                </select>
            </div>
            <div class="control-group">
                <label for="live_refresh_rate">Auto-Refresh:</label>
                <select name="live_refresh_rate" id="live_refresh_rate">
                    <option value="0">Off</option>
                    <option value="1">1s</option>
                    <option value="3" selected>3s</option>
                    <option value="5">5s</option>
                    <option value="10">10s</option>
                </select>
            </div>
        </div>
    </div>

    <div id="liveTableContainer">
        <div class="loading">
            <i class="fas fa-spinner fa-spin"></i> Loading transaction data...
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<!-- Centralized utility scripts -->
<script src="/static/js/utility.js"></script>
<script src="/static/js/transactions.js"></script>
{% endblock %} 